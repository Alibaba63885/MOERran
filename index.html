<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>محمد اویس - ارننگ پلیٹ فارم</title>
    <style>
        body { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: linear-gradient(45deg, #74ebd5, #acb6e5); color: #333; text-align: center; overflow-x: hidden; }
        .welcome-page { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #ff4b2b, #ffd700); display: flex; justify-content: center; align-items: center; flex-direction: column; animation: fadeIn 1s ease; z-index: 30; }
        .welcome-page h1 { font-size: 60px; color: white; text-shadow: 4px 4px 12px #000; animation: bounce 2s infinite; }
        .welcome-page p { font-size: 28px; color: white; margin: 20px 0; text-shadow: 2px 2px 8px #000; }
        .welcome-btn { background: #28a745; color: white; padding: 15px 35px; margin: 10px; border: none; border-radius: 15px; cursor: pointer; font-size: 20px; transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4); }
        .welcome-btn:hover { transform: scale(1.1); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5); }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-25px); } 60% { transform: translateY(-15px); } }
        .header { background: linear-gradient(45deg, #ff4b2b, #ff6f61); padding: 25px; color: white; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4); }
        .header h1 { margin: 0; font-size: 45px; text-shadow: 3px 3px 10px #000; }
        .main-content { max-width: 1300px; margin: 40px auto; padding: 25px; background: white; border-radius: 20px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3); display: none; animation: fadeIn 1s ease; }
        .section { margin: 25px 0; padding: 25px; background: #f8f9fa; border-radius: 15px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); transition: transform 0.3s; }
        .section:hover { transform: scale(1.03); }
        .section h2 { color: #ff4b2b; text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2); font-size: 28px; }
        .earnings-display { background: linear-gradient(45deg, #d4edda, #c3e6cb); padding: 25px; border-radius: 15px; font-size: 28px; color: #155724; position: relative; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        .earnings-display::after { content: '💰'; position: absolute; right: 25px; top: 25px; font-size: 40px; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
        .task { background: #fff; padding: 20px; margin: 15px 0; border-radius: 12px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); text-align: left; display: flex; justify-content: space-between; align-items: center; }
        .task a { color: #007bff; text-decoration: none; font-weight: bold; font-size: 18px; }
        .task button { background: #007bff; color: white; padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; transition: transform 0.3s; font-size: 16px; }
        .task button:hover:not(:disabled) { transform: scale(1.1); }
        .task button:disabled { background: #6c757d; cursor: not-allowed; }
        .rules { background: #fff3cd; padding: 20px; border-radius: 12px; text-align: right; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); }
        .rules p { color: #d63031; font-weight: bold; font-size: 16px; }
        .admin-message { background: linear-gradient(45deg, #ffd700, #ffec80); padding: 25px; border-radius: 15px; text-align: center; color: #333; font-weight: bold; border: 3px solid #ff4b2b; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3); }
        .withdraw input, .withdraw select { padding: 15px; width: 45%; margin: 15px 5px; border-radius: 8px; border: 2px solid #ced4da; box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.1); font-size: 16px; }
        .withdraw button { background: #28a745; color: white; padding: 15px 30px; border: none; border-radius: 10px; cursor: pointer; transition: transform 0.3s; font-size: 18px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        .withdraw button:hover { transform: scale(1.05); }
        .admin-btn { position: fixed; top: 15px; right: 15px; background: #ff4b2b; color: white; padding: 10px 20px; border: none; border-radius: 50px; cursor: pointer; font-size: 14px; transition: transform 0.3s; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); }
        .admin-btn:hover { transform: scale(1.1); }
        .auth-popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 20px; box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5); z-index: 20; background: linear-gradient(135deg, #f8f9fa, #e9ecef); }
        .auth-popup h3 { color: #ff4b2b; font-size: 24px; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2); }
        .auth-popup input { padding: 15px; width: 85%; margin: 15px 0; border-radius: 10px; border: 2px solid #ced4da; font-size: 16px; }
        .auth-popup button { background: #ff4b2b; color: white; padding: 15px 25px; border: none; border-radius: 10px; cursor: pointer; margin: 10px; transition: transform 0.3s; font-size: 16px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); }
        .auth-popup button:hover { transform: scale(1.1); }

        /* نیا ایڈمن روم ڈیزائن */
        .admin-section { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 1000px; height: 80%; background: linear-gradient(135deg, #2c3e50, #1a1a2e); padding: 20px; border-radius: 25px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7); z-index: 20; overflow-y: auto; animation: adminFade 0.5s ease-in; }
        @keyframes adminFade { from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } }
        .admin-header { background: linear-gradient(45deg, #ff4b2b, #ffd700); padding: 20px; border-radius: 15px; color: white; text-align: center; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); border: 3px solid gold; transform: perspective(500px) rotateX(5deg); animation: throneFloat 3s infinite ease-in-out; }
        @keyframes throneFloat { 0%, 100% { transform: perspective(500px) rotateX(5deg) translateY(0); } 50% { transform: perspective(500px) rotateX(5deg) translateY(-10px); } }
        .admin-header h1 { font-size: 36px; text-shadow: 3px 3px 10px #000; margin: 0; }
        .admin-container { display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0; justify-content: center; }
        .admin-card { background: rgba(255, 255, 255, 0.9); padding: 20px; border-radius: 15px; box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4); border: 2px solid #ffd700; width: 300px; transition: transform 0.3s, box-shadow 0.3s; transform: perspective(600px) rotateY(5deg); }
        .admin-card:hover { transform: perspective(600px) rotateY(0deg) scale(1.05); box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5); }
        .admin-card h2 { color: #ff4b2b; text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2); font-size: 22px; margin-top: 0; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; background: #fff; border-radius: 10px; overflow: hidden; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: center; font-size: 14px; }
        th { background: #ff4b2b; color: white; text-transform: uppercase; text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3); }
        .control-btn { background: #28a745; color: white; padding: 8px 15px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; transition: transform 0.3s, background 0.3s; font-size: 14px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); }
        .control-btn:hover { transform: scale(1.1); background: #218838; }
        .suspend-btn { background: #dc3545; }
        .suspend-btn:hover { background: #c82333; }
        .control-input { padding: 10px; width: 90%; margin: 10px 0; border-radius: 5px; border: 2px solid #ffd700; background: #fff; box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1); font-size: 14px; }
        .control-panel { display: flex; gap: 15px; justify-content: center; margin-top: 20px; }
        .logout-btn, .back-btn { background: #ff4b2b; color: white; padding: 12px 25px; border: none; border-radius: 10px; cursor: pointer; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); transition: transform 0.3s; font-size: 16px; }
        .logout-btn:hover, .back-btn:hover { transform: scale(1.1); }
        .back-btn { background: #3498db; }
        .referral-section { background: #e9ecef; padding: 20px; border-radius: 12px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); }
        .status-processing { color: #ff8c00; font-weight: bold; }
        .status-complete { color: #28a745; font-weight: bold; }
    </style>
</head>
<body>
    <!-- ویلکم صفحہ -->
    <div class="welcome-page" id="welcomePage">
        <h1>خوش آمدید!</h1>
        <p>محمد اویس ارننگ پلیٹ فارم پر آپ کا شاندار استقبال ہے۔ اپنی حفاظت کے لیے اکاؤنٹ بنائیں اور کمائی شروع کریں!</p>
        <button class="welcome-btn" onclick="showSignup()">اکاؤنٹ بنائیں</button>
        <button class="welcome-btn" onclick="showLogin()">لاگ ان کریں</button>
    </div>

    <!-- سائن اپ پاپ اپ -->
    <div class="auth-popup" id="signupPopup">
        <h3>نیا اکاؤنٹ بنائیں</h3>
        <input type="text" id="signupName" placeholder="اپنا نام درج کریں">
        <input type="password" id="signupPassword" placeholder="پاس ورڈ بنائیں">
        <button onclick="userSignup()">اکاؤنٹ بنائیں</button>
        <button onclick="hidePopup('signupPopup')">بیک</button>
    </div>

    <!-- لاگ ان پاپ اپ -->
    <div class="auth-popup" id="loginPopup">
        <h3>لاگ ان کریں</h3>
        <input type="text" id="loginName" placeholder="اپنا نام درج کریں">
        <input type="password" id="loginPassword" placeholder="پاس ورڈ">
        <button onclick="userLogin()">لاگ ان</button>
        <button onclick="hidePopup('loginPopup')">بیک</button>
    </div>

    <!-- مین کنٹینٹ -->
    <div class="header">
        <h1>محمد اویس - ارننگ پلیٹ فارم</h1>
    </div>
    <div class="main-content" id="mainContent">
        <div class="section earnings-display">
            <h2>آپ کی کل ارننگ: <span id="earnings">0 روپے</span></h2>
        </div>
        <div class="section admin-message">
            <h2>ایڈمن کا پیغام</h2>
            <p id="adminMessageText">یہاں ایڈمن کا تازہ ترین پیغام دکھائی دے گا۔</p>
        </div>
        <div class="section tasks" id="tasksSection">
            <h2>ٹاسکس مکمل کریں</h2>
            <p>ہر ویڈیو دیکھیں اور 20 روپے کمائیں!</p>
            <div class="task">
                <p>ویڈیو 1: <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">ویڈیو دیکھیں</a></p>
                <button onclick="addEarnings(20, this)">مکمل کیا</button>
            </div>
            <div class="task">
                <p>ویڈیو 2: <a href="https://www.youtube.com/watch?v=3tmd-Claq34" target="_blank">ویڈیو دیکھیں</a></p>
                <button onclick="addEarnings(20, this)">مکمل کیا</button>
            </div>
            <div class="task">
                <p>ویڈیو 3: <a href="https://www.youtube.com/watch?v=9bZkp7q19f0" target="_blank">ویڈیو دیکھیں</a></p>
                <button onclick="addEarnings(20, this)">مکمل کیا</button>
            </div>
        </div>
        <div class="section referral-section">
            <h2>دوستوں کو مدعو کریں</h2>
            <p>ہر دوست کے سائن اپ پر 10 روپے بونس! پہلی ود ڈراول کے لیے 3 دوست ضروری ہیں۔</p>
            <input type="text" id="referralLink" readonly>
            <button onclick="copyReferralLink()">لنک کاپی کریں</button>
        </div>
        <div class="section rules">
            <h2>رولز</h2>
            <p>1. ہر ویڈیو مکمل دیکھیں۔</p>
            <p>2. دھوکہ دہی پر اکاؤنٹ معطل ہوگا۔</p>
            <p>3. درست نمبر درج کریں۔</p>
            <p>4. روزانہ صرف 5 ویڈیوز۔</p>
            <p>5. پہلی ود ڈراول کے لیے 3 دوست بنائیں، ادائیگی 500 روپے پر آدھے گھنٹے میں۔</p>
        </div>
        <div class="section withdraw">
            <h2>کمائی حاصل کریں</h2>
            <p>کم از کم 500 روپے کمائیں اور پہلی بار 3 دوست بنائیں۔</p>
            <input type="text" id="withdrawNumber" placeholder="اپنا نمبر درج کریں">
            <select id="withdrawMethod">
                <option value="easypaisa">ایزی پیسہ</option>
                <option value="jazzcash">جیز کیش</option>
            </select>
            <button onclick="checkWithdrawal()">درخواست دیں</button>
            <p id="withdrawStatus" style="margin-top: 15px;"></p>
        </div>
    </div>

    <!-- ایڈمن لاگ ان بٹن -->
    <button class="admin-btn" onclick="showAdminLogin()">ایڈمن</button>

    <!-- ایڈمن لاگ ان پاپ اپ -->
    <div class="auth-popup" id="adminLoginPopup">
        <h3>ایڈمن لاگ ان</h3>
        <input type="password" id="adminPassword" placeholder="ایڈمن پاس ورڈ">
        <button onclick="adminLogin()">لاگ ان</button>
    </div>

    <!-- نیا ایڈمن روم -->
    <div class="admin-section" id="adminSection">
        <div class="admin-header">
            <h1>محمد اویس - ایڈمن روم</h1>
            <p>ہر چیز پر مکمل کنٹرول!</p>
        </div>
        <div class="admin-container">
            <div class="admin-card">
                <h2>صارفین کا انتظام</h2>
                <table id="usersTable">
                    <tr><th>نام</th><th>ارننگ</th><th>ریفرلز</th><th>کنٹرول</th></tr>
                </table>
            </div>
            <div class="admin-card">
                <h2>ود ڈراول درخواستیں</h2>
                <table id="withdrawalsTable">
                    <tr><th>نام</th><th>رقم</th><th>حالت</th><th>کنٹرول</th></tr>
                </table>
            </div>
            <div class="admin-card">
                <h2>ویڈیو لنکس تبدیل کریں</h2>
                <input type="text" class="control-input" id="videoIndex" placeholder="ویڈیو نمبر (1-3)">
                <input type="text" class="control-input" id="newVideoLink" placeholder="نیا لنک">
                <button class="control-btn" onclick="changeVideoLink()">تبدیل کریں</button>
            </div>
            <div class="admin-card">
                <h2>نئی ویڈیو شامل کریں</h2>
                <input type="text" class="control-input" id="newVideo" placeholder="نیا ویڈیو لنک">
                <button class="control-btn" onclick="addNewVideo()">شامل کریں</button>
            </div>
            <div class="admin-card">
                <h2>پیغام بھیجیں</h2>
                <input type="text" class="control-input" id="messageInput" placeholder="صارفین کو پیغام">
                <button class="control-btn" onclick="sendMessage()">بھیجیں</button>
            </div>
        </div>
        <div class="control-panel">
            <button class="back-btn" onclick="goBack()">بیک</button>
            <button class="logout-btn" onclick="logout()">لاگ آؤٹ</button>
        </div>
    </div>

    <script>
        const adminPassword = "mohammad123";
        let users = JSON.parse(localStorage.getItem("users")) || {};
        let withdrawals = JSON.parse(localStorage.getItem("withdrawals")) || [];
        let currentUser = null;
        let videoLinks = [
            "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
            "https://www.youtube.com/watch?v=3tmd-Claq34",
            "https://www.youtube.com/watch?v=9bZkp7q19f0"
        ];

        window.onload = function() {
            document.getElementById("welcomePage").style.display = "flex";
            const savedMessage = localStorage.getItem("adminMessage");
            if (savedMessage) document.getElementById("adminMessageText").innerText = savedMessage;
            resetTasksDaily();
            loadTasks();
        };

        function showSignup() {
            document.getElementById("welcomePage").style.display = "none";
            document.getElementById("signupPopup").style.display = "block";
        }

        function showLogin() {
            document.getElementById("welcomePage").style.display = "none";
            document.getElementById("loginPopup").style.display = "block";
        }

        function hidePopup(id) {
            document.getElementById(id).style.display = "none";
            document.getElementById("welcomePage").style.display = "flex";
        }

        function userSignup() {
            const name = document.getElementById("signupName").value;
            const password = document.getElementById("signupPassword").value;
            if (!name || !password) {
                alert("نام اور پاس ورڈ درج کریں!");
                return;
            }
            if (!users[name]) {
                users[name] = { password, earnings: 0, tasksCompleted: 0, lastReset: Date.now(), number: "", referrals: 0, withdrawalCount: 0 };
                localStorage.setItem("users", JSON.stringify(users));
                alert("اکاؤنٹ بن گیا! اب لاگ ان کریں۔");
                hidePopup("signupPopup");
            } else {
                alert("یہ نام پہلے سے موجود ہے!");
            }
        }

        function userLogin() {
            const name = document.getElementById("loginName").value;
            const password = document.getElementById("loginPassword").value;
            if (users[name] && users[name].password === password) {
                currentUser = name;
                loadUserData();
                document.getElementById("loginPopup").style.display = "none";
                document.getElementById("mainContent").style.display = "block";
            } else {
                alert("غلط نام یا پاس ورڈ!");
            }
        }

        function loadUserData() {
            document.getElementById("earnings").innerText = users[currentUser].earnings + " روپے";
            document.getElementById("referralLink").value = `http://example.com/?ref=${currentUser}`;
            document.querySelectorAll(".task button").forEach((btn, i) => {
                if (i < users[currentUser].tasksCompleted) btn.disabled = true;
            });
            updateWithdrawStatus();
        }

        function loadTasks() {
            const tasksSection = document.getElementById("tasksSection");
            tasksSection.innerHTML = "<h2>ٹاسکس مکمل کریں</h2><p>ہر ویڈیو دیکھیں اور 20 روپے کمائیں!</p>";
            videoLinks.forEach((link, i) => {
                const task = document.createElement("div");
                task.className = "task";
                task.innerHTML = `<p>ویڈیو ${i + 1}: <a href="${link}" target="_blank">ویڈیو دیکھیں</a></p><button onclick="addEarnings(20, this)">مکمل کیا</button>`;
                tasksSection.appendChild(task);
            });
            if (currentUser) loadUserData();
        }

        function resetTasksDaily() {
            setInterval(() => {
                for (let user in users) {
                    if (Date.now() - users[user].lastReset >= 24 * 60 * 60 * 1000) {
                        users[user].tasksCompleted = 0;
                        users[user].lastReset = Date.now();
                    }
                }
                localStorage.setItem("users", JSON.stringify(users));
                if (currentUser) loadUserData();
            }, 60000);
        }

        function addEarnings(amount, button) {
            if (users[currentUser].tasksCompleted < 5) {
                users[currentUser].earnings += amount;
                users[currentUser].tasksCompleted += 1;
                document.getElementById("earnings").innerText = users[currentUser].earnings + " روپے";
                button.disabled = true;
                localStorage.setItem("users", JSON.stringify(users));
                alert("مبارک ہو! آپ نے " + amount + " روپے کمائے۔");
            } else {
                alert("روزانہ 5 ویڈیوز کی حد مکمل ہو گئی!");
            }
        }

        function checkWithdrawal() {
            if (users[currentUser].earnings < 500) {
                alert("کم از کم 500 روپے کمائیں!");
                return;
            }
            if (users[currentUser].withdrawalCount === 0 && users[currentUser].referrals < 3) {
                alert("پہلی ود ڈراول کے لیے 3 دوست بنائیں!");
                return;
            }
            const number = document.getElementById("withdrawNumber").value;
            const method = document.getElementById("withdrawMethod").value;
            withdrawals.push({ user: currentUser, number, amount: users[currentUser].earnings, method, status: "processing" });
            users[currentUser].number = number;
            localStorage.setItem("withdrawals", JSON.stringify(withdrawals));
            localStorage.setItem("users", JSON.stringify(users));
            alert("درخواست موصول ہوئی! پروسیسنگ شروع ہو گئی۔");
            updateWithdrawStatus();
        }

        function updateWithdrawStatus() {
            const statusEl = document.getElementById("withdrawStatus");
            const userWithdrawals = withdrawals.filter(w => w.user === currentUser && w.status === "processing");
            if (userWithdrawals.length > 0) {
                statusEl.innerHTML = '<span class="status-processing">پروسیسنگ جاری ہے...</span>';
            } else {
                statusEl.innerHTML = "";
            }
        }

        function copyReferralLink() {
            const link = document.getElementById("referralLink");
            link.select();
            document.execCommand("copy");
            alert("ریفرل لنک کاپی ہو گیا! دوستوں کو بھیجیں اور 3 ریفرلز مکمل کریں۔");
        }

        function showAdminLogin() {
            document.getElementById("adminLoginPopup").style.display = "block";
        }

        function adminLogin() {
            const password = document.getElementById("adminPassword").value;
            if (password === adminPassword) {
                document.getElementById("adminLoginPopup").style.display = "none";
                document.getElementById("adminSection").style.display = "block";
                loadAdminData();
            } else {
                alert("غلط پاس ورڈ!");
                document.getElementById("adminLoginPopup").style.display = "none";
            }
        }

        function loadAdminData() {
            const usersTable = document.getElementById("usersTable");
            const withdrawalsTable = document.getElementById("withdrawalsTable");
            usersTable.innerHTML = "<tr><th>نام</th><th>ارننگ</th><th>ریفرلز</th><th>کنٹرول</th></tr>";
            withdrawalsTable.innerHTML = "<tr><th>نام</th><th>رقم</th><th>حالت</th><th>کنٹرول</th></tr>";

            for (let user in users) {
                const row = usersTable.insertRow();
                row.innerHTML = `
                    <td>${user}</td>
                    <td>${users[user].earnings} روپے</td>
                    <td>${users[user].referrals}</td>
                    <td>
                        <button class="control-btn" onclick="payUser('${user}')">ادائیگی</button>
                        <button class="control-btn suspend-btn" onclick="suspendUser('${user}')">ڈیلیٹ</button>
                    </td>
                `;
            }

            withdrawals.forEach((w, i) => {
                const row = withdrawalsTable.insertRow();
                row.innerHTML = `
                    <td>${w.user}</td>
                    <td>${w.amount} روپے</td>
                    <td>${w.status === "processing" ? '<span class="status-processing">پروسیسنگ</span>' : '<span class="status-complete">مکمل</span>'}</td>
                    <td>
                        <button class="control-btn" onclick="approveWithdrawal(${i})" ${w.status === "complete" ? "disabled" : ""}>ادائیگی بھیجیں</button>
                        <button class="control-btn suspend-btn" onclick="rejectWithdrawal(${i})" ${w.status === "complete" ? "disabled" : ""}>مسترد</button>
                    </td>
                `;
            });
        }

        function payUser(user) {
            alert(`${user} کو ${users[user].earnings} روپے ادائیگی کی گئی۔`);
            users[user].earnings = 0;
            localStorage.setItem("users", JSON.stringify(users));
            loadAdminData();
            if (currentUser === user) loadUserData();
        }

        function suspendUser(user) {
            if (confirm(`${user} کا اکاؤنٹ ڈیلیٹ کرنا چاہتے ہیں؟`)) {
                delete users[user];
                localStorage.setItem("users", JSON.stringify(users));
                alert(`${user} کا اکاؤنٹ ڈیلیٹ ہو گیا۔`);
                loadAdminData();
            }
        }

        function approveWithdrawal(index) {
            const w = withdrawals[index];
            users[w.user].earnings -= w.amount;
            users[w.user].withdrawalCount += 1;
            withdrawals[index].status = "complete";
            localStorage.setItem("users", JSON.stringify(users));
            localStorage.setItem("withdrawals", JSON.stringify(withdrawals));
            alert(`ادائیگی ${w.number} کو بھیج دی گئی۔ حالت: مکمل`);
            loadAdminData();
            if (currentUser === w.user) loadUserData();
        }

        function rejectWithdrawal(index) {
            withdrawals.splice(index, 1);
            localStorage.setItem("withdrawals", JSON.stringify(withdrawals));
            alert("درخواست مسترد ہو گئی۔");
            loadAdminData();
            if (currentUser) updateWithdrawStatus();
        }

        function changeVideoLink() {
            const index = parseInt(document.getElementById("videoIndex").value) - 1;
            const newLink = document.getElementById("newVideoLink").value;
            if (index >= 0 && index < videoLinks.length && newLink) {
                videoLinks[index] = newLink;
                loadTasks();
                alert(`ویڈیو ${index + 1} کا لنک تبدیل ہو گیا: ${newLink}`);
                document.getElementById("videoIndex").value = "";
                document.getElementById("newVideoLink").value = "";
            } else {
                alert("غلط ویڈیو نمبر یا لنک!");
            }
        }

        function addNewVideo() {
            const link = document.getElementById("newVideo").value;
            if (link) {
                videoLinks.push(link);
                loadTasks();
                alert("نئی ویڈیو شامل ہو گئی!");
                document.getElementById("newVideo").value = "";
            }
        }

        function sendMessage() {
            const message = document.getElementById("messageInput").value;
            if (message) {
                localStorage.setItem("adminMessage", message);
                document.getElementById("adminMessageText").innerText = message;
                alert("پیغام بھیج دیا گیا: " + message);
                document.getElementById("messageInput").value = "";
            }
        }

        function logout() {
            document.getElementById("adminSection").style.display = "none";
        }

        function goBack() {
            document.getElementById("adminSection").style.display = "none";
        }
    </script>
</body>
</html>